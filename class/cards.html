<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <title>Cards</title>
    <style>
        
    .btn__render {
        margin-top: 20px;
        margin-left: 20px;
        background-color:black;
        color: wheat;
        border-radius: 20px;
        line-height: 40px;
        width: 100px;
        font-size: 24px;
        transition: top 0.3s ease-in;
    }
    .btn__render:active {
        position: relative;
        top: 1px;
    }
    #app {
        margin-left: 20px;
        margin-top: 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
    }
    .card:hover {
        border: 1px black solid;
        background-color: bisque;
    }
    .btn__render--getvalue {
        width: 120px;
    }
    .btn__render--filter {
        width: 300px;
    }

    </style>
</head>

<body>

    <input type="button" value="Render" class="btn__render" onclick="render(Cars)">
    <input type="range" value="20000" class="btn__render btn__render--filter" id="filter_value" name="filterRange" step="10000" max="200000" min="40000">
    <input type="button" value="Filter" id="filter" name="filter" class="btn__render btn__render--getvalue" onclick="filterApply(Cars)">

    <div id="app"></div>

<script>
    
    const Cars = [
        { Brand: "bmw", body: "sedan", model: "x5", year: 2016, price: 200000 },
        { Brand: "audi", body: "coupe", model: "A5", year: 2014, price: 180000 },
        { Brand: "mercedes", body: "electric", model: "EQC", year: 2015, price: 160000 },
        { Brand: "mercedes", body: "hybrid", model: "E", year: 2023, price: 120000 },
        { Brand: "audi", body: "coupe", model: "A4", year: 2015, price: 100000 },
        { Brand: "lexus", body: "sedan", model: "ES", year: 2016, price: 80000 },
    ]


    const render = (items) => {
        const html = items.reduce(function (acc, item) {
            return acc += `
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">${item.Brand}</h5>
                    <p class="card-text">${item.body}</p>
                    <p class="card-text">${item.model}</p>
                    <p class="card-text">${item.year}</p>
                    <p class="card-text">${item.price}$</p>
                </div>
            </div>`
        }, "");

        console.log(html)

        app.innerHTML = html;
    }

    const filterApply = (items) => {
            let filterValue = document.getElementById('filter_value').value;
            let filteredItems = items.filter(item => item.price > filterValue);
            render(filteredItems);
        };
    
    document.addEventListener('change', () => {
         const filter1 = document.getElementById('filter_value').value;
         filter.value = filter1 + " $";
    })

</script>
</body>

</html>